<databaseChangeLog
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
  <changeSet id="23-alter-customer-loan-file" author="yunish">

    <dropForeignKeyConstraint baseTableName="customer_loan" constraintName="fk_customer_loan_site_visit_id"/>
    
    <dropColumn tableName="customer_loan" columnName="site_visit_id"/>

    <addColumn tableName="site_visit">
      <column name="customer_loan_id" type="BIGINT"/>
    </addColumn>

    <addForeignKeyConstraint baseTableName="site_visit" baseColumnNames="customer_loan_id" constraintName="fk_site_visit_customer_loan_id"
      referencedTableName="customer_loan" referencedColumnNames="id"/>
  </changeSet>
</databaseChangeLog>


